<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood Bank Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Animation Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
</head>

<body class="bg-gray-100">

    <header class="bg-red-700 text-white py-16 text-center relative overflow-hidden shadow-lg">
        <div class="max-w-6xl mx-auto px-5">
            <!-- Dimmed Glowing Text -->
            <h3 class="text-7xl font-black uppercase tracking-widest text-gray-200 opacity-90 
                       drop-shadow-[0_0px_6px_rgba(255,255,255,0.5)]"
                style="text-shadow: 2px 2px 6px rgba(255, 255, 255, 0.5);" data-aos="zoom-in">
                Blood Bank Management System
            </h3>
            <p class="text-xl font-semibold opacity-80 tracking-wide mt-3 drop-shadow-md text-gray-300"
                style="text-shadow: 1px 1px 5px rgba(255, 255, 255, 0.4);" data-aos="fade-up" data-aos-delay="200">
                Connecting Donors with Recipients Nationwide
            </p>
        </div>
    </header>


    <!-- Navigation -->
    <nav class="bg-gray-800 text-white p-4 sticky top-0 z-50 shadow-lg">
        <div class="max-w-6xl mx-auto">
            <ul class="flex flex-wrap justify-center gap-6">
                <li><a href="index.html"
                        class="hover:text-red-400 transition-colors duration-300 px-3 py-2 rounded">Home</a></li>
                <li><a href="Donor.html"
                        class="hover:text-red-400 transition-colors duration-300 px-3 py-2 rounded">Donate Blood</a>
                </li>
                <li><a href="Request.html"
                        class="hover:text-red-400 transition-colors duration-300 px-3 py-2 rounded">Request Blood</a>
                </li>
                <li><a href="Campaign.html"
                        class="hover:text-red-400 transition-colors duration-300 px-3 py-2 rounded">Campaigns</a></li>
                  <li>
                            <button id="logout" class="hover:text-red-400 transition-colors duration-300 px-3 py-2 rounded">
                                Logout
                            </button>
                 </li>
            </ul>
        </div>
    </nav>


    <!-- Hero Section -->
    <section class="relative h-[500px] md:h-[600px] lg:h-[700px] w-full">
        <img src="open-hero.png" alt="Blood Donation" class="absolute inset-0 w-full h-full object-cover">
        <div
            class="absolute inset-0 bg-black bg-opacity-50 flex flex-col justify-center items-center text-white text-center px-4">
            <h2 class="text-3xl md:text-4xl font-bold mb-4">Every Drop Counts</h2>
            <p class="text-lg max-w-2xl mb-6">Join our network of 50,000+ registered donors saving lives daily</p>
            <div class="space-x-4">
                <button onclick="window.location.href='Donor.html'"
                    class="bg-red-600 text-white px-6 py-3 rounded-full hover:bg-red-700 transition-all duration-300 transform hover:scale-105 shadow-lg">
                    Become a Donor
                </button>

                <button onclick="window.location.href='Request.html'"
                    class="bg-gray-800 text-white px-6 py-3 rounded-full hover:bg-gray-900 transition-all duration-300 transform hover:scale-105 shadow-lg">
                    Request Blood
                </button>

            </div>
        </div>
    </section>


    <!-- Features Grid -->
    <section class="py-16 bg-white">
        <div class="max-w-6xl mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Feature Card 1 -->
            <div class="feature-card p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300"
                data-aos="fade-up">
                <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4">
                    <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg>
                </div>
                <h3 class="text-xl font-semibold mb-3">Donor Registration</h3>
                <p class="text-gray-600">Quick registration process with health screening questionnaire</p>
            </div>

            <!-- Feature Card 2 -->
            <div class="feature-card p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300"
                data-aos="fade-up" data-aos-delay="100">
                <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4">
                    <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M13 10V3L4 14h7v7l9-11h-7z" />
                    </svg>
                </div>
                <h3 class="text-xl font-semibold mb-3">Real-time Tracking</h3>
                <p class="text-gray-600">Live inventory updates and request status monitoring</p>
            </div>

            <!-- Feature Card 3 -->
            <div class="feature-card p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300"
                data-aos="fade-up" data-aos-delay="200">
                <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4">
                    <svg class="w-8 h-8 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
                <h3 class="text-xl font-semibold mb-3">24/7 Availability</h3>
                <p class="text-gray-600">Emergency request handling at any time</p>
            </div>
        </div>
    </section>

    <!-- Blood Compatibility Chart -->
    <section class="py-16 bg-white">
        <div class="max-w-6xl mx-auto px-4" data-aos="fade-up">
            <h2 class="text-3xl font-bold text-center mb-8">Blood Type Compatibility</h2>
            <div class="overflow-x-auto">
                <table class="min-w-full bg-white shadow-md rounded-lg overflow-hidden">
                    <thead class="bg-gray-800 text-white">
                        <tr>
                            <th class="py-3 px-4">Donor Blood Type</th>
                            <th class="py-3 px-4">Can Donate To</th>
                            <th class="py-3 px-4">Can Receive From</th>
                        </tr>
                    </thead>
                    <tbody class="text-gray-700">
                        <tr class="border-b hover:bg-gray-50">
                            <td class="py-3 px-4 font-medium">O+</td>
                            <td class="py-3 px-4">A+, B+, AB+, O+</td>
                            <td class="py-3 px-4">O+, O-</td>
                        </tr>
                        <tr class="hover:bg-gray-50">
                            <td class="py-3 px-4 font-medium">O-</td>
                            <td class="py-3 px-4">All blood types</td>
                            <td class="py-3 px-4">O- only</td>
                        </tr>
                        <tr class="border-b hover:bg-gray-50">
                            <td class="py-3 px-4 font-medium">A+</td>
                            <td class="py-3 px-4">A+, AB+</td>
                            <td class="py-3 px-4">A+, A-, O+, O-</td>
                        </tr>
                        <tr class="border-b hover:bg-gray-50">
                            <td class="py-3 px-4 font-medium">A-</td>
                            <td class="py-3 px-4">A+, A-, AB+, AB-</td>
                            <td class="py-3 px-4">A-, O-</td>
                        </tr>
                        <tr class="border-b hover:bg-gray-50">
                            <td class="py-3 px-4 font-medium">B+</td>
                            <td class="py-3 px-4">B+, AB+</td>
                            <td class="py-3 px-4">B+, B-, O+, O-</td>
                        </tr>
                        <tr class="border-b hover:bg-gray-50">
                            <td class="py-3 px-4 font-medium">B-</td>
                            <td class="py-3 px-4">B+, B-, AB+, AB-</td>
                            <td class="py-3 px-4">B-, O-</td>
                        </tr>
                        <tr class="border-b hover:bg-gray-50">
                            <td class="py-3 px-4 font-medium">AB+</td>
                            <td class="py-3 px-4">AB+ only</td>
                            <td class="py-3 px-4">All blood types</td>
                        </tr>
                        <tr class="border-b hover:bg-gray-50">
                            <td class="py-3 px-4 font-medium">AB-</td>
                            <td class="py-3 px-4">AB+, AB-</td>
                            <td class="py-3 px-4">A-, B-, AB-, O-</td>
                        </tr>
                        <!-- Add other blood types -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="max-w-6xl mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8">
            <div>
                <h3 class="text-xl font-bold mb-4">Blood Bank</h3>
                <p class="text-gray-400">Saving lives through efficient blood management since 2025</p>
            </div>
            <!-- Add footer columns -->
        </div>
    </footer>

    <script>
        // Initialize AOS
        AOS.init({
            duration: 1000,
            once: true,
            easing: 'ease-in-out'
        });

        // GSAP Animations
        gsap.from("header h1", {
            duration: 1,
            y: -50,
            opacity: 0,
            ease: "power4.out"
        });
       
        const headerH1 = document.querySelector("header h1");
        if (headerH1) {
            gsap.from(headerH1, {
                duration: 1,
                y: -50,
                opacity: 0,
                ease: "power4.out"
            });
        } else {
            console.warn("GSAP target header h1 not found.");
        }


        // Form Validation
        const forms = document.querySelectorAll('form');
        forms.forEach(form => {
            form.addEventListener('submit', (e) => {
                if (!form.checkValidity()) {
                    e.preventDefault();
                    form.classList.add('was-validated');
                }
            }, false);
        });

        const logoutButton = document.getElementById("logout");
if (logoutButton) {
    logoutButton.addEventListener("click", async () => {
        console.log("Logout button clicked");
        const userTok = localStorage.getItem("userToken"); // Retrieve token from localStorage

        if (!userTok) {
            console.error("No auth token found in localStorage");
            return;
        }

        try {
            const response = await fetch("http://localhost:5000/api/auth/logout", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    "Authorization": `Bearer ${userTok}` // Include token in Authorization header
                }
            });

            if (response.ok) {
                console.log("Logged out successfully");
                localStorage.removeItem("userToken");
                localStorage.removeItem("userId");
                window.location.href = "userlogin.html"; // Redirect to login page
            } else {
                const errorData = await response.json();
                console.error("Logout failed:", errorData.message);
            }
        } catch (error) {
            console.error("Error during logout:", error);
        }
    });
} else {
    console.error("Logout button not found in the DOM.");
}


    // Check if the user is logged in
    window.onload = function () {
        if (!localStorage.getItem("userToken")) {
            // If user data is missing, redirect to login page
            window.location.href = "userlogin.html";
        }
    };
    </script>

</body>

</html>